webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = ".navbar-fixed-top{\n    position:relative;z-index: 999;\n}"

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"navigation col-lg-12\">\n  \n  <!--Menu superior de la aplicación-->\n  <div class=\"navbar navbar-default navbar-fixed-top\" role=\"navigation\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-header\">\n        <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\"#menu\" aria-expanded=\"false\">\n        <span class=\"sr-only\">Toggle navigation</span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n      </button>\n        <a class=\"navbar-brand display-flex font-caveat\" [routerLink]=\"['/home']\">\n          <img src=\"assets/globos.png\" class=\"globos\">\n          Sozial Troy\n        </a>\n      </div>\n      <div class=\"navbar-collapse collapse\" id=\"menu\" data-toggle=\"collapse\" data-target=\"#menu\">\n        <ul class=\"nav navbar-nav\" *ngIf=\"identity\">\n          <li>\n            <a href=\"#\" [routerLink]=\"['/home']\">\n                <span class=\"glyphicon-home glyphicon\"></span>\n                Inicio\n              </a>\n          </li>\n          <li>\n            <a href=\"#\" [routerLink]=\"['/timeline']\">\n                <span class=\"glyphicon-th-list glyphicon\"></span>\n                Publicaciones\n              </a>\n          </li>\n          <li>\n            <a [routerLink]=\"['/gente/1']\">\n                <span class=\"glyphicon-user glyphicon\"></span>\n                Gente\n              </a>\n          </li>\n          <li>\n            <a href=\"#\" [routerLink]=\"['/mensajes/enviar']\">\n                <span class=\"glyphicon glyphicon-envelope\"></span>\n                Mensajes\n              </a>\n          </li>\n          <li>\n            <a href=\"#\" href=\"javascript:void(0)\" class=\"pointer\" (click)=\"logout()\">\n                  <span class=\"glyphicon glyphicon-log-out\"></span>\n                  Cerrar sesión\n              </a>\n          </li>\n        </ul>\n        <ul class=\"nav navbar navbar-nav navbar-right\" *ngIf=\"identity\">\n          <li>\n            <a href=\"#\" [routerLink]=\"['/perfil', identity._id]\" class=\"padding0\">\n              <div class=\"display-flex padding0\">\n                <div class=\"\" style=\"width:38px\">\n                  <img class=\"img img-circle img-responsive _top10\" src=\"{{identity.image}}\" *ngIf=\"identity.image\"/>\n                  <img class=\"img img-circle img-responsive _top10\" src=\"assets/user.jpg\" *ngIf=\"!identity.image\"/>\n                </div>\n                <span class=\"identity-name\">{{identity.name}}</span>\n              </div>\n            </a>\n          </li>\n\n        </ul>\n        <ul class=\"nav navbar navbar-nav navbar-right\" *ngIf=\"!identity\">\n          <li>\n            <a routerLink=\"login\">\n                <span class=\"glyphicon-log-in glyphicon\"></span>\n                Login\n              </a>\n          </li>\n          <li>\n            <a href=\"#\" routerLink=\"registro\">\n                <span class=\"glyphicon-user glyphicon\"></span>\n                Registro\n              </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Navegación por rutas-->\n<router-outlet></router-outlet>\n\n<!--Notificación de nuevo mensaje recibido-->\n<div id=\"toast\" class=\"alert alert-warning1 display-flex pull-left padding0\" *ngIf=\"rutaActual != '/mensajes/enviar'\">\n  <div id=\"desc\" *ngIf=\"remitente\">\n    <a href=\"javascript:void(0);\" [routerLink]=\"['/mensajes/enviar']\">\n      Nuevo mensaje de <span>{{remitente.name}}</span>!  \n    </a>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_socket_io_client__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppComponent = /** @class */ (function () {
    function AppComponent(_userService, _route, _router) {
        var _this = this;
        this._userService = _userService;
        this._route = _route;
        this._router = _router;
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.title = 'Social Troy';
        _router.events.forEach(function (event) {
            if (event instanceof __WEBPACK_IMPORTED_MODULE_3__angular_router__["b" /* NavigationStart */]) {
                _this.rutaActual = event.url;
            }
        });
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.socket = __WEBPACK_IMPORTED_MODULE_4_socket_io_client__["connect"]();
        this.identity = this._userService.getIdentity();
        this.socket.on('refreshChat', function (data) {
            console.log(data);
            // this.getConversation(this.receptor, 1, true, false);
            if (data.receiver._id == _this.identity._id) {
                _this.showAlertMessage(data);
            }
            else {
            }
        });
        this.socket.on('usuariosConectados', function (data) {
        });
    };
    AppComponent.prototype.ngDoCheck = function () {
        this.identity = this._userService.getIdentity();
    };
    AppComponent.prototype.logout = function () {
        this.socket.emit('logout', this.identity);
        localStorage.clear();
        this.identity = null;
        this._router.navigate(['/login']);
    };
    AppComponent.prototype.showAlertMessage = function (user) {
        this.remitente = user.emiter;
        $('#toast').show();
        $('#toast').css('visibility', 'visible');
        setTimeout(function () {
            $('#toast').hide();
            $('#toast').css('visibility', 'hidden');
        }, 3000);
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* Router */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_moment__ = __webpack_require__("./node_modules/angular2-moment/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_angular2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages_messages_module__ = __webpack_require__("./src/app/messages/messages.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_reversePipe__ = __webpack_require__("./src/app/pipes/reversePipe.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__login_login_component__ = __webpack_require__("./src/app/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__register_register_component__ = __webpack_require__("./src/app/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__home_home_component__ = __webpack_require__("./src/app/home/home.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__user_edit_user_edit_component__ = __webpack_require__("./src/app/user-edit/user-edit.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__users_users_component__ = __webpack_require__("./src/app/users/users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__sidebar_sidebar_component__ = __webpack_require__("./src/app/sidebar/sidebar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__timeline_timeline_component__ = __webpack_require__("./src/app/timeline/timeline.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__publications_publications_component__ = __webpack_require__("./src/app/publications/publications.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__profile_profile_component__ = __webpack_require__("./src/app/profile/profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__following_following_component__ = __webpack_require__("./src/app/following/following.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__followed_followed_component__ = __webpack_require__("./src/app/followed/followed.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







/*Carga módulo de mebnsajeria*/














/*Rutas*/
var appRoutes = [
    { path: '', component: __WEBPACK_IMPORTED_MODULE_12__home_home_component__["a" /* HomeComponent */] },
    { path: 'login', component: __WEBPACK_IMPORTED_MODULE_10__login_login_component__["a" /* LoginComponent */] },
    { path: 'registro', component: __WEBPACK_IMPORTED_MODULE_11__register_register_component__["a" /* RegisterComponent */] },
    { path: 'mis-datos', component: __WEBPACK_IMPORTED_MODULE_13__user_edit_user_edit_component__["a" /* UserEditComponent */] },
    { path: 'gente/:page', component: __WEBPACK_IMPORTED_MODULE_14__users_users_component__["a" /* UsersComponent */] },
    { path: 'gente', component: __WEBPACK_IMPORTED_MODULE_14__users_users_component__["a" /* UsersComponent */] },
    { path: 'home', component: __WEBPACK_IMPORTED_MODULE_12__home_home_component__["a" /* HomeComponent */] },
    { path: 'timeline', component: __WEBPACK_IMPORTED_MODULE_16__timeline_timeline_component__["a" /* TimelineComponent */] },
    { path: 'perfil/:id', component: __WEBPACK_IMPORTED_MODULE_18__profile_profile_component__["a" /* ProfileComponent */] },
    { path: 'siguiendo/:id/:page', component: __WEBPACK_IMPORTED_MODULE_19__following_following_component__["a" /* FollowingComponent */] },
    { path: 'seguidores/:id/:page', component: __WEBPACK_IMPORTED_MODULE_20__followed_followed_component__["a" /* FollowedComponent */] },
    { path: '**', component: __WEBPACK_IMPORTED_MODULE_12__home_home_component__["a" /* HomeComponent */] }
];
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_10__login_login_component__["a" /* LoginComponent */],
                __WEBPACK_IMPORTED_MODULE_11__register_register_component__["a" /* RegisterComponent */],
                __WEBPACK_IMPORTED_MODULE_12__home_home_component__["a" /* HomeComponent */],
                __WEBPACK_IMPORTED_MODULE_13__user_edit_user_edit_component__["a" /* UserEditComponent */],
                __WEBPACK_IMPORTED_MODULE_14__users_users_component__["a" /* UsersComponent */],
                __WEBPACK_IMPORTED_MODULE_15__sidebar_sidebar_component__["a" /* SidebarComponent */],
                __WEBPACK_IMPORTED_MODULE_16__timeline_timeline_component__["a" /* TimelineComponent */],
                __WEBPACK_IMPORTED_MODULE_17__publications_publications_component__["a" /* PublicationsComponent */],
                __WEBPACK_IMPORTED_MODULE_18__profile_profile_component__["a" /* ProfileComponent */],
                __WEBPACK_IMPORTED_MODULE_19__following_following_component__["a" /* FollowingComponent */],
                __WEBPACK_IMPORTED_MODULE_20__followed_followed_component__["a" /* FollowedComponent */],
                __WEBPACK_IMPORTED_MODULE_8__pipes_reversePipe__["a" /* ReversePipe */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2__angular_router__["d" /* RouterModule */].forRoot(appRoutes, { enableTracing: false }),
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_common_http__["b" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_5_angular2_moment__["MomentModule"],
                __WEBPACK_IMPORTED_MODULE_7__messages_messages_module__["a" /* MessagesModule */]
            ],
            providers: [
                { provide: __WEBPACK_IMPORTED_MODULE_6__angular_common__["g" /* LocationStrategy */], useClass: __WEBPACK_IMPORTED_MODULE_6__angular_common__["d" /* HashLocationStrategy */] }
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/followed/followed.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/followed/followed.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\n    <h1 class=\"h1-strong\">\n        {{title}} <span *ngIf=\"user\">{{userName}}</span>\n    </h1>\n\n    <div class=\"people\">\n        <div *ngFor=\"let user of followsme\" class=\"item-user\">\n            <div class=\"panel panel-default\">\n                <div class=\"panel-body\">\n                    <div class=\"image_user pull-left\">\n                        <a [routerLink]=\"['/perfil', user.user._id]\">\n                            <img src=\"{{user.image}}\" *ngIf=\"user.user.image\"/>    \n                            <img src=\"assets/user.jpg\" *ngIf=\"!user.user.image\" class=\"user-default\"/>    \n                        </a>\n\n                    </div>\n                    <div class=\"user_name pull-left\">\n                        <p class=\"name-surname\">\n                            <a [routerLink]=\"['/perfil', user.user._id]\">\n                            {{user.user.name + ' ' + user.user.surname}}\n                            </a>\n                        </p>\n                        <p class=\"nickname\">{{user.user.nick}}</p>\n                    </div>\n\n                    <div class=\"pull-right\" *ngIf=\"user.user._id != identity._id\">\n                        <button class=\"btn btn-success\" *ngIf=\"followingIds.indexOf(user.user._id) < 0\" (click)=\"followUser(user.user._id)\">\n                            <span class=\"glyphicon glyphicon-plus-sign\"></span>\n                            Seguir\n                        </button>\n                        <button class=\"btn btn-primary\" *ngIf=\"followingIds.indexOf(user.user._id) >= 0\" (mouseenter)=\"mouseEnter(user.user._id)\" (mouseleave)=\"mouseLeave(user.followed._id)\" [class.btn-danger]=\"user.user._id == followUserOver\" (click)=\"unfollowUser(user.user._id)\">\n                            <div *ngIf=\"user.user._id == followUserOver; else following\">\n                                <span class=\"glyphicon glyphicon-minus-sign\"></span>\n                                Dejar de seguir\n                            </div>\n                            <ng-template #following>\n                                <span class=\"glyphicon glyphicon-ok-sign\"></span>\n                                Siguiendo\n                            </ng-template>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ul class=\"pagination pull-right\">\n            <li *ngIf=\"page > 1\">\n                <a [routerLink]=\"['/seguidores',userPageId, prevPage]\">Anterior</a>\n            </li>\n            <li *ngIf=\"pages != page\">\n                <a [routerLink]=\"['/seguidores',userPageId, nextPage]\">Siguiente</a>\n            </li>\n        </ul>\n    </div>\n</div>\n<sidebar></sidebar>\n<div class=\"clearfix\"></div>\n"

/***/ }),

/***/ "./src/app/followed/followed.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowedComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// import { UploadService } from '../services/upload.service';

var FollowedComponent = /** @class */ (function () {
    function FollowedComponent(_userService, _route, _router, _followService) {
        this._userService = _userService;
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this.title = "Usuarios que siguen a ";
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    FollowedComponent.prototype.ngOnInit = function () {
        console.log("Se cargo el componente following");
        this.actualPage();
    };
    FollowedComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var user_id = params['id'];
            _this.userPageId = user_id;
            var page = +params['page'];
            _this.page = page;
            _this.getUser(user_id);
            if (!page) {
                page = 1;
            }
            else {
                _this.nextPage = page + 1;
                _this.prevPage = page - 1;
                if (_this.prevPage <= 0) {
                    _this.prevPage = 1;
                }
            }
            _this.getFollows(user_id, page);
        });
    };
    FollowedComponent.prototype.getFollows = function (user_id, page) {
        var _this = this;
        this._followService.getFollowed(this.token, user_id, page).subscribe(function (response) {
            if (response && !response.follows) {
                _this.status = 'error';
            }
            else {
                // this.users = response.usuariosEncontrados;  
                _this.total = response.total;
                _this.pages = response.pages;
                _this.followsme = response.follows;
                _this.followingIds = response.users_followed;
                _this.follows = response.users_following;
                if (page > _this.page) {
                    _this._router.navigate(['/gente', 1]);
                }
            }
        }, function (error) {
            console.log(error);
            _this.status = 'error';
        });
    };
    FollowedComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    FollowedComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    FollowedComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follows) {
                _this.status = "error";
            }
            else {
                _this.status = "success";
                // this.followsme.push(response.follows.followed);
                _this.followingIds.push(response.follows.followed);
                // this.getFollows(this.userPageId, 1);
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowedComponent.prototype.unfollowUser = function (followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, followed).subscribe(function (response) {
            var search = _this.followingIds.indexOf(followed);
            if (search != -1) {
                _this.followingIds.splice(search, 1);
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowedComponent.prototype.getUser = function (id) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            if (response.user) {
                _this.user = response.user;
                _this.userName = response.user.name;
            }
            else {
                _this._router.navigate(['/home']);
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowedComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'following',
            template: __webpack_require__("./src/app/followed/followed.component.html"),
            styles: [__webpack_require__("./src/app/followed/followed.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], FollowedComponent);
    return FollowedComponent;
}());



/***/ }),

/***/ "./src/app/following/following.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/following/following.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\n    <h1 class=\"h1-strong\">\n        {{title}}<span *ngIf=\"user\">{{userName}}</span>\n    </h1>\n    \n    <div class=\"alert alert-warning\" *ngIf=\"!following\">\n        {{userName}} todavía no sigue a nadie\n    </div>\n\n    <div class=\"people\" *ngIf=\"following\">\n        <div *ngFor=\"let follow of following\" class=\"item-user\">\n            <div class=\"panel panel-default\" *ngIf=\"follow\">\n                <div class=\"panel-body\">\n                    <div class=\"image_user pull-left\" [routerLink]=\"['/perfil', follow.followed._id]\">\n                        <!--<a [routerLink]=\"['/perfil', follow.followed._id]\">-->\n                        <a >\n                            <img src=\"{{follow.followed.image}}\" *ngIf=\"follow.followed.image\"/>    \n                            <img src=\"assets/user.jpg\" *ngIf=\"!follow.followed.image\" class=\"user-default\"/>    \n                        </a>\n                    </div>\n                    <div class=\"user_name pull-left\">\n                        <p class=\"name-surname\">\n                            <a [routerLink]=\"['/perfil', follow.followed._id]\">\n                            {{follow.followed.name + ' ' + follow.followed.surname}}\n                            </a>\n                        </p>\n                        <p class=\"nickname\">{{follow.followed.nick}}</p>\n                    </div>\n\n                    <div class=\"pull-right\" *ngIf=\"follow.user._id != identity._id\">\n                        <button class=\"btn btn-success\" *ngIf=\"follows.indexOf(follow.followed._id) < 0\" (click)=\"followUser(follow.followed._id)\">\n                            <span class=\"glyphicon glyphicon-plus-sign\"></span>\n                            Seguir\n                        </button>\n                        <button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(follow.followed._id) >= 0\" (mouseenter)=\"mouseEnter(follow.followed._id)\" (mouseleave)=\"mouseLeave(follow.followed._id)\" [class.btn-danger]=\"follow.followed._id == followUserOver\" (click)=\"unfollowUser(follow.followed._id)\">\n                            <div *ngIf=\"follow.followed._id == followUserOver; else following\">\n                                <span class=\"glyphicon glyphicon-minus-sign\"></span>\n                                Dejar de seguir\n                            </div>\n                            <ng-template #following>\n                                <span class=\"glyphicon glyphicon-ok-sign\"></span>\n                                Siguiendo\n                            </ng-template>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ul class=\"pagination pull-right\">\n            <li *ngIf=\"page > 1\">\n                <a [routerLink]=\"['/siguiendo',userPageId, prevPage]\">Anterior</a>\n            </li>\n            <li *ngIf=\"pages != page\">\n                <a [routerLink]=\"['/siguiendo',userPageId, nextPage]\">Siguiente</a>\n            </li>\n        </ul>\n    </div>\n</div>\n<sidebar></sidebar>\n<div class=\"clearfix\"></div>\n "

/***/ }),

/***/ "./src/app/following/following.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// import { UploadService } from '../services/upload.service';

var FollowingComponent = /** @class */ (function () {
    function FollowingComponent(_userService, _route, _router, _followService) {
        this._userService = _userService;
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this.title = "Usuarios seguidos por ";
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    FollowingComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    FollowingComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var user_id = params['id'];
            _this.userPageId = user_id;
            var page = +params['page'];
            _this.page = page;
            _this.getUser(user_id);
            if (!page) {
                page = 1;
            }
            else {
                _this.nextPage = page + 1;
                _this.prevPage = page - 1;
                if (_this.prevPage <= 0) {
                    _this.prevPage = 1;
                }
            }
            _this.getFollows(user_id, page);
        });
    };
    FollowingComponent.prototype.getFollows = function (user_id, page) {
        var _this = this;
        this._followService.getFollowing(this.token, user_id, page).subscribe(function (response) {
            console.log(response);
            if (response && !response.follows) {
                _this.status = 'error';
            }
            else {
                if (response.follows.length == 0) {
                    response.following = null;
                }
                else {
                    // this.users = response.usuariosEncontrados;  
                    _this.total = response.total;
                    _this.pages = response.pages;
                    _this.following = response.follows;
                    _this.follows = response.users_following;
                    if (page > _this.page) {
                        _this._router.navigate(['/gente', 1]);
                    }
                }
            }
        }, function (error) {
            console.log(error);
            _this.status = 'error';
        });
    };
    FollowingComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    FollowingComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    FollowingComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follows) {
                _this.status = "error";
            }
            else {
                _this.status = "success";
                _this.follows.push(response.follows.followed);
                // this.getFollows(this.userPageId,1)
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowingComponent.prototype.unfollowUser = function (followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, followed).subscribe(function (response) {
            console.log(response);
            var search = _this.follows.indexOf(followed);
            if (search != -1) {
                _this.follows.splice(search, 1);
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowingComponent.prototype.getUser = function (id) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            console.log(response);
            if (response.user) {
                _this.user = response.user;
                _this.userName = response.user.name;
            }
            else {
                _this._router.navigate(['/home']);
            }
        }, function (error) {
            console.log(error);
        });
    };
    FollowingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'following',
            template: __webpack_require__("./src/app/following/following.component.html"),
            styles: [__webpack_require__("./src/app/following/following.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], FollowingComponent);
    return FollowingComponent;
}());



/***/ }),

/***/ "./src/app/home/home.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/home/home.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8 col-lg-offset-2\">\n    <div class=\"jumbotron\" style=\"padding:20px;\">\n        <h1 class=\"h1-strong\">{{title}}</h1>   \n        <p class=\"font-caveat\">Disfruta de las publicaciones de tus amigos, y comparte tu vida! :) </p>\n        <a class=\"btn btn-success btn-lg font-caveat\" role=\"button\" [routerLink]=\"['/perfil', identity._id]\" *ngIf=\"identity\">\n            Mi perfil\n        </a>\n        <a class=\"btn btn-primary btn-lg font-caveat\" role=\"button\" [routerLink]=\"['/timeline']\" *ngIf=\"identity\">\n            Timeline\n        </a>\n        <a class=\"btn btn-default btn-lg font-caveat\" role=\"button\" [routerLink]=\"['/gente']\" *ngIf=\"identity\">\n            Gente\n        </a>\n        <div *ngIf=\"identity\">\n            <p class=\"font-caveat _top20\">Empieza encontrando gente <a href=\"javascript:void(0);\" [routerLink]=\"['/gente']\" class=\"font-caveat\"><strong>Aquí</strong></a></p> \n        </div>\n        <div *ngIf=\"!identity\">\n            <p class=\"font-caveat\">¿Ya tienes una cuenta? Entra por <a href=\"javascript:void(0);\" [routerLink]=\"['/login']\" class=\"font-caveat\">Aquí</a></p> \n            <p class=\"font-caveat\">¿No estás registrado? Comienza registrandote en 20 segundos <a href=\"javascript:void(0);\" [routerLink]=\"['/registro']\" class=\"font-caveat\">Aquí</a></p> \n        </div>\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/home/home.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HomeComponent = /** @class */ (function () {
    function HomeComponent(_userService) {
        this._userService = _userService;
        this.title = "Bienvenido a Social Troy";
    }
    HomeComponent.prototype.ngOnInit = function () {
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
    };
    HomeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-home',
            template: __webpack_require__("./src/app/home/home.component.html"),
            styles: [__webpack_require__("./src/app/home/home.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */]])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-4 col-lg-offset-4 col-sm-12 col-xs-12\">\n    <h1 class=\"h1-strong text-center\">{{title}}</h1>\n    <div class=\"alert alert-success\" *ngIf=\"status=='success'\">\n        Loggin completado correctamente. Bienvenido {{identity.nick}}!\n        <!--<a [routerLink]=\"['/login']\">Identifícate!</a>-->\n    </div>\n     <div class=\"alert alert-danger\" *ngIf=\"status=='error'\">\n        El loggin no ha podido completarse, inténtalo de nuevo con otros datos.\n    </div>\n    <p class=\"_top20' top20 text-center\">\n        ¿Todavía no estás registrado? \n        <a [routerLink]=\"['/registro']\">Regístrate aquí</a>\n    </p>\n    <form #loginForm=\"ngForm\" (ngSubmit)=\"sendForm(loginForm)\" class=\"center-block\" *ngIf=\"status!='success'\">\n        <p>\n            <label for=\"\">Correo electrónico</label>\n            <input autocomplete=\"off\" class=\"form-control\" type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\" required/>\n            <span *ngIf=\"!email.valid && email.touched\">\n                El Email es obligatorio\n            </span>\n        </p>  \n        <p>\n            <label for=\"\">Contraseña</label>\n            <input autocomplete=\"off\" class=\"form-control\" type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" required/>\n            <span *ngIf=\"!password.valid && password.touched\">\n                La Contraseña es obligatoria\n            </span>\n        </p>          \n        <input type=\"submit\" value=\"{{title}}\" class=\"btn btn-success\" [disabled]=\"!loginForm.form.valid\"/>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_user__ = __webpack_require__("./src/app/models/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_socket_io_client__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LoginComponent = /** @class */ (function () {
    function LoginComponent(_route, _router, _userService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this.title = "Identifícate";
        this.user = new __WEBPACK_IMPORTED_MODULE_2__models_user__["a" /* User */]("", "", "", "", "", "", "", "", false);
        this.socket = __WEBPACK_IMPORTED_MODULE_4_socket_io_client__["connect"]();
    }
    LoginComponent.prototype.ngOnInit = function () {
    };
    LoginComponent.prototype.sendForm = function (form) {
        var _this = this;
        this._userService.login(this.user).subscribe(function (response) {
            if (response.user) {
                _this.identity = response.user;
                if (!_this.identity || !_this.identity._id) {
                    _this.status = 'error';
                }
                else {
                    _this.identity.conected = true;
                    _this.status = 'success';
                    /*Guardar datos del usuario en localStorage*/
                    localStorage.setItem('identity', JSON.stringify(_this.identity));
                    /*Conseguir el token*/
                    _this.getToken();
                    _this.socket.emit('loginUser', response.user);
                }
                form.reset();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            _this.status = 'error';
        });
    };
    LoginComponent.prototype.getToken = function () {
        var _this = this;
        this._userService.login(this.user, 'true').subscribe(function (response) {
            _this.token = response.token;
            if (_this.token.length <= 0) {
                _this.status = 'error';
            }
            else {
                /*PErsistir el token*/
                localStorage.setItem('token', _this.token);
                /*Conseguir contadores y estadisticas del usuario*/
                _this.getCounters();
            }
        }, function (error) {
            _this.status = 'error';
        });
    };
    LoginComponent.prototype.getCounters = function () {
        var _this = this;
        this._router.navigate(['/']);
        this._userService.getCounters(this.identity._id).subscribe(function (response) {
            localStorage.setItem('stats', JSON.stringify(response.value));
            _this.status = 'success';
            if (response.value.following.length) {
            }
        }, function (error) {
            console.log(error);
            _this._router.navigate(['/registro']);
        });
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'login',
            template: __webpack_require__("./src/app/login/login.component.html"),
            styles: [__webpack_require__("./src/app/login/login.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/messages/add/add.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/add/add.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-md-8 col-md-offset-2 col-sm-12\">\n    <h3 class=\"h1-strong\">Mensajes</h3>\n</div>\n\n\n<!--<div class=\"col-lg-10\">-->\n<!--    <p>-->\n<!--        <label>-->\n<!--            Para:-->\n<!--        </label>-->\n<!--    </p>-->\n<!--    <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 text-center\">-->\n<!--        <div class=\"list-group list-group-horizontal\" *ngFor=\"let follow of follows\">-->\n<!--            <a (click)=\"receptor = follow.user._id\" href=\"javascript:void(0);\" class=\"list-group-item\">{{follow.user.name}}</a>-->\n<!--        </div>-->\n<!--    </div>-->\n<!--</div>-->\n\n<!--<div class=\"col-lg-2 col-md-offset-2\">-->\n<!--    <div class=\"sidebar-admin\">-->\n<!--        <ul class=\"nav nav-pills nav-stacked nav-pills-stacked-example\">-->\n<!--            <li role=\"presentation\">-->\n<!--                <h4>Conversaciones</h4>-->\n<!--            </li>-->\n<!--            <li role=\"presentation\" class=\"\" [routerLinkActive]=\"['active']\" *ngFor=\"let follow of follows\">-->\n<!--                <a href=\"javascript:void(0);\" (click)=\"getConversation(follow.user._id)\">{{follow.user.name}}</a>-->\n<!--            </li>-->\n<!--        </ul>-->\n<!--    </div>-->\n<!--</div>-->\n\n\n<div class=\"col-md-8 col-md-offset-2 col-sm-12\" id=\"conversaciones\">\n    <div class=\"panel-group\" [attr.id]=\"'accordion_' + i\" *ngFor=\"let follow of follows; let i = index;\">\n        <div class=\"panel panel-default\">\n            <div class=\"panel-heading\">\n                <div class=\"menu\" *ngIf=\"follow\" (click)=\"getConversation(follow.user._id, 1, false, false); selectedUser = follow.user._id\">\n                    <div class=\"back\"><i class=\"fa fa-chevron-left\"></i>\n                        <img *ngIf=\"follow.user.image\" src=\"{{follow.user.image}}\" [hidden]=\"!follow.user.image\" draggable=\"false\">\n                        <img *ngIf=\"!follow.user.image\" src=\"assets/user.jpg\" draggable=\"false\" [hidden]=\"follow.user.image\">\n\n                    </div>\n                    <div class=\"name\">{{follow.user.name}}</div>\n                    <!--<div class=\"last\">18:09</div>-->\n                </div>\n            </div>\n            <div *ngIf=\"receptor == follow.user._id && showPanel\">\n                <div class=\"panel-body\" id=\"panel\" style=\"max-height: 250px;overflow:auto;\">\n                    <div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"messages && messages.length == 0\">\n                        Todavía No hay ningún mensaje en esta conversación, rompe el hielo!\n                    </div>\n                    <button class=\"btn btn-link\" *ngIf=\"page < totalPages\" (click)=\"getConversation(receptor, page+1, false, true); viewMore = true;\">\n                        Ver más mensajes\n                    </button>\n                    <ol class=\"chat\" *ngIf=\"messages\">\n                        <li class=\"other\" *ngFor=\"let message of messages\" [ngClass]=\"{'self' : message.emiter._id == identity._id, 'other' : message.emiter._id != identity._id}\">\n                            <div class=\"avatar\"><img src=\"{{message.emiter.image}}\" *ngIf=\"message.emiter.image\" draggable=\"false\" /><img *ngIf=\"!message.emiter.image\" src=\"assets/user.jpg\" draggable=\"false\"></div>\n                            <div class=\"msg\">\n                                <p>{{message.text}}</p>\n                                <time>{{message.created_at | date: \"dd/MM/yy - HH:mm\"}}</time>\n                            </div>\n                        </li>\n                    </ol>\n                    <form #messageForm=\"ngForm\" (ngSubmit)=\"sendForm(messageForm)\" id=\"messageForm\">\n                        <div class=\"display-flex\" style=\"display:flex; margin-bottom:10px\">\n                            <input class=\"form-control\" id=\"text\" type=\"text\" placeholder=\"Escribe aquí!\" name=\"text\" #text=\"ngModel\" [(ngModel)]=\"message.text\" autocomplete=\"off\" required/>\n                            <input type=\"submit\" id=\"submit\" value=\"enviar\" class=\"btn btn-warning\" [disabled]=\"!messageForm.form.valid \" />\n                        </div>\n\n                    </form>\n\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n<!--<div class=\"navbar navbar-default navbar-fixed-top\" style=\"position:relative\" role=\"navigation\">-->\n<!--    <div class=\"container\">-->\n<!--        <div class=\"navbar-header\">-->\n<!--            <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\"#users\" aria-expanded=\"false\" aria-controls=\"users\">-->\n<!--                    <span class=\"sr-only\">Toggle navigation</span>-->\n<!--                    <span class=\"glyphicon glyphicon-user\"></span>-->\n<!--            </button>-->\n<!--            <a class=\"navbar-brand\" href=\"#\">Amigos</a>-->\n<!--        </div>-->\n<!--        <div class=\"navbar-collapse collapse\" id=\"users\">-->\n<!--            <ul class=\"nav navbar-nav\">-->\n<!--                <li *ngFor=\"let follow of follows\">-->\n<!--                    <a (click)=\"getConversation(follow.user._id); selectedUser = follow.user\" data-toggle=\"collapse\" data-target=\"#users\">-->\n<!--                    {{follow.user.name}}-->\n<!--                  </a>-->\n<!--                </li>-->\n<!--            </ul>-->\n<!--        </div>-->\n<!--    </div>-->\n<!--</div>-->\n\n<!--<div class=\"menu\" *ngIf=\"receptor\">-->\n<!--    <div class=\"back\"><i class=\"fa fa-chevron-left\"></i>-->\n<!--        <img src=\"https://i.imgur.com/DY6gND0.png\" draggable=\"false\" />-->\n<!--        <img src=\"'get-image-user/' + selectedUser.image\" draggable=\"false\" />-->\n<!--        <img *ngIf=\"selectedUser.image\" src=\"{{url+ 'get-image-user/' + selectedUser.image}}\" draggable=\"false\">-->\n<!--        <img *ngIf=\"!selectedUser.image\" src=\"assets/user.jpg\" draggable=\"false\">-->\n<!--    </div>-->\n<!--    <div class=\"name\">{{selectedUser.name}}</div>-->\n<!--    <div class=\"last\">18:09</div>-->\n<!--</div>-->\n\n\n<!--<div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"!messages && selectedUser\">-->\n<!--    Empieza una conversación con {{selectedUser.name}}!!-->\n<!--</div>-->\n\n<!--<form #messageForm=\"ngForm\" (ngSubmit)=\"sendForm(messageForm)\" class=\"col-lg-10\">-->\n<!--    <input class=\"textarea\" type=\"text\" placeholder=\"Escribe aquí!\" name=\"text\" #text=\"ngModel\" [(ngModel)]=\"message.text\" required/>-->\n<!--    <input type=\"submit\" value=\"\" class=\" emojis \" [disabled]=\"!messageForm.form.valid \" />-->\n<!--</form>-->\n<!--<div class=\"col-lg-6 \">-->\n<!--    <div class=\"col-sm-9 frame \">-->\n<!--        <ul>-->\n<!--            <li style=\"width:100% \" class=\"text-center \" *ngFor=\"let message of messages \">-->\n<!--                <div class=\"msj macro \">-->\n<!--                    <div class=\"avatar \">-->\n<!--                        <img class=\"img-circle \" style=\"width:100%; \" src=\"https://lh6.googleusercontent.com/-lr2nyjhhjXw/AAAAAAAAAAI/AAAAAAAARmE/MdtfUmC0M4s/photo.jpg?sz=48 \">-->\n<!--                    </div>-->\n<!--                    <div class=\"text text-l \">-->\n<!--                        <p>{{message.text}}</p>-->\n<!--                        <p><small>{{message.created_at}}</small></p>-->\n<!--                    </div>-->\n<!--                </div>-->\n<!--            </li>-->\n<!--        </ul>-->\n<!--        <form #messageForm=\"ngForm \" (ngSubmit)=\"sendForm(messageForm) \">-->\n<!--            <div>-->\n<!--                <div class=\"msj-rta macro \">-->\n<!--                    <div class=\"text text-r \" style=\"background:whitesmoke !important \">-->\n<!--                        <input class=\"mytext \" placeholder=\" \" name=\"text \" #text=\"ngModel \" [(ngModel)]=\"message.text \" require/>-->\n<!--                    </div>-->\n<!--                    <input type=\"submit \" value=\"Enviar \" class=\"btn btn-success \" [disabled]=\"!messageForm.form.valid \" />-->\n<!--                </div>-->\n<!--<div style=\"padding:10px; \">-->\n<!--    <span class=\"glyphicon glyphicon-share-alt \"></span>-->\n<!--</div>-->\n<!--            </div>-->\n<!--        </form>-->\n\n<!--    </div>-->\n<!--</div>-->\n\n<!--<div class=\"col-lg-10 \">-->\n<!--    <form #messageForm=\"ngForm \" (ngSubmit)=\"sendForm(messageForm) \" class=\"col-lg-10 \">-->\n<!--        <p>-->\n<!--            <label>Mensaje:</label>-->\n<!--            <textarea class=\"form-control \" rows=\"5 \" name=\"text \" #text=\"ngModel \" [(ngModel)]=\"message.text \" required></textarea>-->\n<!--        </p>-->\n<!--        <input type=\"submit \" value=\"Enviar \" class=\"btn btn-success \" [disabled]=\"!messageForm.form.valid \" />-->\n<!--    </form>-->\n<!--</div>-->\n"

/***/ }),

/***/ "./src/app/messages/add/add.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_socket_io_client__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_message__ = __webpack_require__("./src/app/models/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_message_service__ = __webpack_require__("./src/app/services/message.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







// import { UploadService } from '../../services/upload.service';

var AddComponent = /** @class */ (function () {
    function AddComponent(_messageService, _route, _router, _followService, _userService) {
        this._messageService = _messageService;
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this._userService = _userService;
        this.loading = false;
        this.title = "Nuevo mensaje";
        this.identity = _userService.getIdentity();
        this.token = _userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_7__services_global__["a" /* GLOBAL */].url;
        this.message = new __WEBPACK_IMPORTED_MODULE_3__models_message__["a" /* Message */]('', '', '', '', '', this.identity._id);
        this.socket = __WEBPACK_IMPORTED_MODULE_2_socket_io_client__["connect"]();
        this.page = 1;
        this.loading = true;
    }
    AddComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.getMyFollows();
        this.messages = [];
        /*Se ejecuta cada vez que se recibe un mensaje*/
        this.socket.on('refreshChat', function (data) {
            if (data.emiter._id == _this.receptor && data.receiver._id == _this.identity._id) {
                _this.messages.push(data);
                if ("#text")
                    $("#text").focus();
                //scroll abajo        
                var panel = document.getElementById("panel");
                panel.scrollTop = panel.scrollHeight;
            }
            if ("#text")
                $("#text").focus();
            //scroll abajo        
            var panel = document.getElementById("panel");
            panel.scrollTop = panel.scrollHeight;
        });
    };
    AddComponent.prototype.getMyFollows = function () {
        var _this = this;
        this._followService.getMyFollows(this.token).subscribe(function (response) {
            _this.follows = response.follows;
        }, function (error) {
            console.log(error);
        });
    };
    /**/
    AddComponent.prototype.getMessages = function () {
        this._messageService.getMessages(this.token, this.page).subscribe(function (response) { }, function (error) {
            console.log(error);
        });
    };
    /*Obtiene las conversaciones entre el usuario identificado y un seguidor*/
    AddComponent.prototype.getConversation = function (user_id, page, isAdd, viewMore) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (isAdd === void 0) { isAdd = false; }
        if (viewMore === void 0) { viewMore = false; }
        this.page = page;
        if (!this.receptor) {
            this.showPanel = true;
            this.receptor = user_id;
        }
        else {
            if ((this.receptor == user_id && !viewMore) && !isAdd) {
                this.showPanel = false;
            }
            else {
                this.receptor = user_id;
                this.showPanel = true;
            }
        }
        this._messageService.getConversation(this.token, user_id, this.page).subscribe(function (response) {
            if (_this.viewMore) {
                response.messages.forEach(function (message) {
                    _this.messages.unshift(message);
                });
                _this.viewMore = false;
            }
            else {
                _this.messages = response.messages.reverse();
                if (_this.loading) {
                    setTimeout(function () {
                        var panel = document.getElementById("panel");
                        panel.scrollTop = panel.scrollHeight;
                        if ("#text")
                            $("#text").focus();
                        this.loading = false;
                    }, 1000);
                }
                else {
                    var panel = document.getElementById("panel");
                    panel.scrollTop = panel.scrollHeight;
                    if ("#text")
                        $("#text").focus();
                }
            }
            _this.totalPages = response.pages;
            var panel = document.getElementById("panel");
            panel.scrollTop = panel.scrollHeight;
            if ("#text")
                $("#text").focus();
        }, function (error) {
            console.log(error);
        });
    };
    /*Se envía el nueuvo mensaje*/
    AddComponent.prototype.sendForm = function (form) {
        var _this = this;
        this.message.receiver = this.receptor;
        this.message.emiter = this.identity._id;
        console.log("el ID del emisor es " + this.identity._id);
        this._messageService.addMessage(this.token, this.message).subscribe(function (response) {
            _this.status = "success";
            form.reset();
            var message = null;
            if (response.message) {
                message = response.message;
            }
            else {
                message = _this.message;
            }
            _this.socket.emit('addNewMessage', message);
            _this.messages.push(response.message);
            if ("#text")
                $("#text").focus();
            //scroll abajo        
            var panel = document.getElementById("panel");
            panel.scrollTop = panel.scrollHeight;
        }, function (error) {
            console.log(error);
        });
    };
    AddComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'add',
            template: __webpack_require__("./src/app/messages/add/add.component.html"),
            styles: [__webpack_require__("./src/app/messages/add/add.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_5__services_follow_service__["a" /* FollowService */],
                __WEBPACK_IMPORTED_MODULE_6__services_message_service__["a" /* MessageService */],
                __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]
            ],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__services_message_service__["a" /* MessageService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]])
    ], AddComponent);
    return AddComponent;
}());



/***/ }),

/***/ "./src/app/messages/main/main.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/main/main.component.html":
/***/ (function(module, exports) {

module.exports = "<!--<div class=\"col-lg-4\">-->\n<!--    <h3>Mensajes privados</h3>-->\n<!--    <div class=\"sidebar-admin\">-->\n<!--        <ul class=\"nav nav-pills nav-stacked nav-pills-stacked-example\">-->\n<!--            <li role=\"presentation\" class=\"\" [routerLinkActive]=\"['active']\">-->\n<!--                <a [routerLink]=\"['recibidos']\">Mensajes recibidos</a>-->\n<!--            </li>-->\n<!--            <li role=\"presentation\" class=\"\" [routerLinkActive]=\"['active']\">-->\n<!--                <a [routerLink]=\"['enviados']\">Mensajes enviados</a>-->\n<!--            </li>-->\n<!--            <li role=\"presentation\" class=\"\" [routerLinkActive]=\"['active']\">-->\n<!--                <a [routerLink]=\"['enviar']\">Enviar mensaje</a>-->\n<!--            </li>-->\n<!--            <li role=\"presentation\" class=\"\" [routerLinkActive]=\"['active']\">-->\n<!--                <a href=\"#\">Información</a>-->\n<!--            </li>-->\n<!--        </ul>-->\n<!--    </div>-->\n<!--</div>-->\n\n<!--<div class=\"col-lg-8\">-->\n    <!--navegación entre componentes con routerOutlet-->\n<!--    <router-outlet></router-outlet>-->\n<!--</div>-->\n<router-outlet></router-outlet>"

/***/ }),

/***/ "./src/app/messages/main/main.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MainComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MainComponent = /** @class */ (function () {
    function MainComponent() {
    }
    MainComponent.prototype.ngOnInit = function () {
    };
    MainComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'main',
            template: __webpack_require__("./src/app/messages/main/main.component.html"),
            styles: [__webpack_require__("./src/app/messages/main/main.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], MainComponent);
    return MainComponent;
}());



/***/ }),

/***/ "./src/app/messages/messages.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessagesModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__main_main_component__ = __webpack_require__("./src/app/messages/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__add_add_component__ = __webpack_require__("./src/app/messages/add/add.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__received_received_component__ = __webpack_require__("./src/app/messages/received/received.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sent_sent_component__ = __webpack_require__("./src/app/messages/sent/sent.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








/*Rutas*/
var messageRoutes = [
    // {path : '', component: HomeComponent},
    // {path : 'login', component: LoginComponent},
    // {path : 'registro', component: RegisterComponent},
    // {path : 'mis-datos', component: UserEditComponent},
    // {path : 'gente/:page', component: UsersComponent},
    // {path : 'gente', component: UsersComponent},
    // {path : 'home', component: HomeComponent},
    // {path : 'timeline', component: TimelineComponent},
    // {path : 'perfil/:id', component: ProfileComponent},
    // {path : 'siguiendo/:id/:page', component: FollowingComponent},
    // {path : 'seguidores/:id/:page', component: FollowedComponent},
    { path: 'mensajes', component: __WEBPACK_IMPORTED_MODULE_2__main_main_component__["a" /* MainComponent */],
        children: [
            { path: '', redirectTo: 'recibidos', pathMatch: 'full' },
            { path: 'enviar', component: __WEBPACK_IMPORTED_MODULE_3__add_add_component__["a" /* AddComponent */] },
            { path: 'recibidos', component: __WEBPACK_IMPORTED_MODULE_4__received_received_component__["a" /* ReceivedComponent */] },
            { path: 'enviados', component: __WEBPACK_IMPORTED_MODULE_5__sent_sent_component__["a" /* SentComponent */] },
        ]
    }
];
var MessagesModule = /** @class */ (function () {
    function MessagesModule() {
    }
    MessagesModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_7__angular_router__["d" /* RouterModule */].forChild(messageRoutes),
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_forms__["a" /* FormsModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__main_main_component__["a" /* MainComponent */], __WEBPACK_IMPORTED_MODULE_3__add_add_component__["a" /* AddComponent */], __WEBPACK_IMPORTED_MODULE_4__received_received_component__["a" /* ReceivedComponent */], __WEBPACK_IMPORTED_MODULE_5__sent_sent_component__["a" /* SentComponent */]],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__main_main_component__["a" /* MainComponent */], __WEBPACK_IMPORTED_MODULE_3__add_add_component__["a" /* AddComponent */], __WEBPACK_IMPORTED_MODULE_4__received_received_component__["a" /* ReceivedComponent */], __WEBPACK_IMPORTED_MODULE_5__sent_sent_component__["a" /* SentComponent */]
            ],
            providers: []
        })
    ], MessagesModule);
    return MessagesModule;
}());



/***/ }),

/***/ "./src/app/messages/received/received.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/received/received.component.html":
/***/ (function(module, exports) {

module.exports = "<h3>Mensajes recibidos</h3>\n\n\n"

/***/ }),

/***/ "./src/app/messages/received/received.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReceivedComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_message_service__ = __webpack_require__("./src/app/services/message.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// import { UploadService } from '../../services/upload.service';

var ReceivedComponent = /** @class */ (function () {
    function ReceivedComponent(_messageService, 
    // private _route: ActivatedRoute,
    // private _router: Router,
    _followService, _userService) {
        this._messageService = _messageService;
        this._followService = _followService;
        this._userService = _userService;
        this.title = "Mensajes recibidos";
        this.identity = _userService.getIdentity();
        this.token = _userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
    }
    ReceivedComponent.prototype.ngOnInit = function () {
        this.getMessages();
        this.page = 1;
    };
    ReceivedComponent.prototype.getMessages = function () {
        this._messageService.getMessages(this.token, this.page).subscribe(function (response) {
            console.log(response);
        }, function (error) {
            console.log(error);
        });
    };
    ReceivedComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-received',
            template: __webpack_require__("./src/app/messages/received/received.component.html"),
            styles: [__webpack_require__("./src/app/messages/received/received.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__services_follow_service__["a" /* FollowService */],
                __WEBPACK_IMPORTED_MODULE_3__services_message_service__["a" /* MessageService */],
                __WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_message_service__["a" /* MessageService */],
            __WEBPACK_IMPORTED_MODULE_2__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */]])
    ], ReceivedComponent);
    return ReceivedComponent;
}());



/***/ }),

/***/ "./src/app/messages/sent/sent.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/sent/sent.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-10\">\n    <h3>Mensajes enviados</h3>\n</div>"

/***/ }),

/***/ "./src/app/messages/sent/sent.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SentComponent = /** @class */ (function () {
    function SentComponent() {
        this.title = "Mensajes enviados";
    }
    SentComponent.prototype.ngOnInit = function () {
    };
    SentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-sent',
            template: __webpack_require__("./src/app/messages/sent/sent.component.html"),
            styles: [__webpack_require__("./src/app/messages/sent/sent.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], SentComponent);
    return SentComponent;
}());



/***/ }),

/***/ "./src/app/models/comment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Comment; });
var Comment = /** @class */ (function () {
    function Comment(_id, text, created_at, user, publication) {
        this._id = _id;
        this.text = text;
        this.created_at = created_at;
        this.user = user;
        this.publication = publication;
    }
    return Comment;
}());



/***/ }),

/***/ "./src/app/models/follow.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Follow; });
var Follow = /** @class */ (function () {
    function Follow(_id, user, followed) {
        this._id = _id;
        this.user = user;
        this.followed = followed;
    }
    return Follow;
}());



/***/ }),

/***/ "./src/app/models/message.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Message; });
var Message = /** @class */ (function () {
    function Message(_id, text, viewed, created_at, emiter, receiver) {
        this._id = _id;
        this.text = text;
        this.viewed = viewed;
        this.created_at = created_at;
        this.emiter = emiter;
        this.receiver = receiver;
    }
    return Message;
}());



/***/ }),

/***/ "./src/app/models/publication.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Publication; });
var Publication = /** @class */ (function () {
    function Publication(_id, text, file, created_at, user) {
        this._id = _id;
        this.text = text;
        this.file = file;
        this.created_at = created_at;
        this.user = user;
    }
    return Publication;
}());



/***/ }),

/***/ "./src/app/models/user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });
var User = /** @class */ (function () {
    function User(_id, name, surname, nick, email, password, role, image, conected) {
        this._id = _id;
        this.name = name;
        this.surname = surname;
        this.nick = nick;
        this.email = email;
        this.password = password;
        this.role = role;
        this.image = image;
        this.conected = conected;
    }
    return User;
}());



/***/ }),

/***/ "./src/app/pipes/reversePipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReversePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ReversePipe = /** @class */ (function () {
    function ReversePipe() {
    }
    ReversePipe.prototype.transform = function (values) {
        return values.reverse();
    };
    ReversePipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
            name: 'reverse',
            pure: false
        })
    ], ReversePipe);
    return ReversePipe;
}());



/***/ }),

/***/ "./src/app/profile/profile.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/profile/profile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-12 col-xs-12\">\n    <h1 class=\"h1-strong\">\n        {{title}}\n    </h1>\n</div>\n\n<div id=\"profile-data\" class=\"pull-left col-lg-6 col-xs-12\" *ngIf=\"user && !showPerfilImage && loadedData\">\n        <div class=\"avatar pull-left\">\n            <img (click)=\"showPerfilImage = true\" class=\"img img-circle\" *ngIf=\"user.image\" src=\"{{user.image}}\">\n            <img (click)=\"showPerfilImage = true\" class=\"img img-circle\" *ngIf=\"!user.image\" src=\"assets/user.jpg\">\n        </div>\n        <div class=\"user-name pull-left _left20\">\n            <p class=\"name _top20\">{{user.name + ' ' + user.surname}}</p>\n            <p class=\"nick\">{{user.nick}}</p>\n            <div class=\"follow\">\n                <button class=\"btn btn-success\" *ngIf=\"!following && identity._id != user._id\" (click)=\"followUser(user)\">\n                    Seguir\n                </button>\n                <button class=\"btn btn-primary\" *ngIf=\"following && identity._id != user._id\" (click)=\"unfollowUser(user._id)\" (mouseenter)=\"mouseEnter(user._id)\" (mouseleave)=\"mouseLeave()\" [class.btn-danger]=\"user._id == followUserOver\">\n                    <span *ngIf=\"user._id == followUserOver; else following\">Dejar de seguir</span>\n                    <ng-template #following>Siguiendo</ng-template>\n                </button>\n            </div>\n            <a href=\"#\" [routerLink]=\"['/mis-datos']\" class=\"_top10\" *ngIf=\"identity._id == user._id\">\n                  <span class=\"glyphicon glyphicon-cog\"></span>\n                 Mis datos\n            </a>\n            \n        </div>\n        <div class=\"stats pull-left _top20\" *ngIf=\"stats\">\n            <div class=\"following-data\">\n                <a [routerLink]=\"['/siguiendo', user._id, 1]\">\n                <span class=\"label-stats\">\n                    Siguiendo\n                </span>\n                <span class=\"number-stats\">\n                    {{stats.following}}\n                </span>\n            </a>\n            </div>\n            <div class=\"following-data\">\n                <a [routerLink]=\"['/seguidores', user._id, 1]\">\n                <span class=\"label-stats\">\n                    Seguidores\n                </span>\n                <span class=\"number-stats\">\n                    {{stats.followed}}\n                </span>\n            </a>\n            </div>\n            <div class=\"following-data\">\n                <a href=\"#\">\n                <span class=\"label-stats\">\n                    Publicaciones\n                </span>\n                <span class=\"number-stats\">\n                    {{stats.publications}}\n                </span>\n            </a>\n            </div>\n        </div>\n\n    </div>\n    \n<div class=\"col-lg-5 col-xs-12\" *ngIf=\"user && !showPerfilImage\">\n    <publications></publications>    \n</div>\n\n<div class=\"col-lg-7 col-lg-offset-1 col-xs-12\" *ngIf=\"showPerfilImage\">\n    <img (click)=\"showPerfilImage = false\" class=\"img img-responsive\" style=\"margin-bottom:20px;\" *ngIf=\"user.image\" src=\"{{user.image}}\">\n    <button class=\"btn btn-warning\" (click)=\"showPerfilImage = false\" style=\"margin-bottom:10px;\">\n        Volver\n    </button>\n     <form class=\"col-lg-12 padding0\" #userEditForm=\"ngForm\" (ngSubmit)=\"sendForm()\" *ngIf=\"user._id == identity._id\">\n        <p class=\"modal-content\">\n            <label class=\"_left20 _top10\" for=\"\">Subir imagen de perfil</label>\n            <input class=\"btn btn-default\" type=\"file\" (change)=\"fileChangeEvent($event)\"/>\n        </p>\n        <input type=\"submit\" value=\"Subir imagen\" class=\"btn btn-info\" [disabled]=\"!userEditForm.form.valid\" />\n    </form>\n</div>\n<sidebar></sidebar>\n\n\n"

/***/ }),

/***/ "./src/app/profile/profile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_upload_service__ = __webpack_require__("./src/app/services/upload.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ProfileComponent = /** @class */ (function () {
    function ProfileComponent(_route, _router, _userService, _followService, _uploadService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._followService = _followService;
        this._uploadService = _uploadService;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.title = 'Perfil';
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
        this.followed = false;
        this.following = false;
    }
    ProfileComponent.prototype.ngOnInit = function () {
        this.loadPage();
    };
    ProfileComponent.prototype.loadPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var id = params['id'];
            _this.getUser(id);
            _this.getCounters(id);
            _this.user = params['id'];
        });
    };
    ProfileComponent.prototype.getUser = function (id) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            if (response.user) {
                _this.user = response.user;
                _this.title = 'Perfil de ' + _this.user.nick;
                _this.loadedData = true;
                if (response.following) {
                    if (response.following._id) {
                        _this.following = true;
                    }
                    else {
                        _this.following = false;
                    }
                }
                if (response.followed) {
                    if (response.followed._id) {
                        _this.followed = true;
                    }
                    else {
                        _this.followed = false;
                    }
                }
            }
            else {
                _this.status = "error";
            }
        }, function (error) {
            console.log(error);
            _this._router.navigate(['/perfil', _this.identity._id]);
        });
    };
    ProfileComponent.prototype.getCounters = function (id) {
        var _this = this;
        this._userService.getCounters(id).subscribe(function (response) {
            _this.stats = response.value;
            console.log('ESDTO SON LOS STATS');
            console.log(response);
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            console.log(response);
            _this.following = true;
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.unfollowUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.deleteFollow(this.token, followed).subscribe(function (response) {
            console.log(response);
            _this.following = false;
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    ProfileComponent.prototype.mouseLeave = function () {
        this.followUserOver = 0;
    };
    ProfileComponent.prototype.sendForm = function () {
        var _this = this;
        this._userService.updateUser(this.user).subscribe(function (response) {
            console.log(response);
            if (!response.user) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                localStorage.setItem('identity', JSON.stringify(_this.user));
                _this.identity = _this.user;
                /*Subida imagen de usuario*/
                _this._uploadService.makeFileRequest(_this.url + 'upload-image-user/' + _this.user._id, [], _this.filesToUpload, _this.token, 'image').then(function (result) {
                    console.log(result);
                    _this.user.image = result.user.image;
                    localStorage.setItem('identity', JSON.stringify(_this.user));
                });
            }
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.fileChangeEvent = function (fileInput) {
        this.filesToUpload = fileInput.target.files;
        console.log(this.filesToUpload);
    };
    ProfileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'profile',
            template: __webpack_require__("./src/app/profile/profile.component.html"),
            styles: [__webpack_require__("./src/app/profile/profile.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */], __WEBPACK_IMPORTED_MODULE_6__services_upload_service__["a" /* UploadService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_6__services_upload_service__["a" /* UploadService */]])
    ], ProfileComponent);
    return ProfileComponent;
}());



/***/ }),

/***/ "./src/app/publications/publications.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/publications/publications.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"publications\">\n    <h1 class=\"h1-strong\">\n        {{title}}\n    </h1>\n    <div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"(!publications || !publications.length) && loadedData\">\n        No hay publicaciones de este usuario.\n    </div>\n    <ul class=\"publications-list padding0\">\n        <li class=\"publication-item\" *ngFor=\"let publication of publications; let posicion = index\">\n            <div class=\"publication-head bottom20 _bottom20\">\n                <div class=\"image_user pull-left\">\n                    <a [routerLink]=\"['/perfil', publication.user._id]\">\n                            <img src=\"{{publication.user.image}}\" *ngIf=\"publication.user.image\"/>    \n                            <img src=\"assets/user.jpg\" *ngIf=\"!publication.user.image\" class=\"user-default\"/>    \n                        </a>\n                </div>\n                <a [routerLink]=\"['/perfil', publication.user._id]\">\n                    <span class=\"nickname\">{{publication.user.name + ' ' + publication.user.name}}</span>\n                    </a>\n                <span class=\"fecha-creacion\">{{publication.created_at | date: \"dd/MM/yy - HH:mm\"}}</span>\n                <!--| amFromUnix-->\n                <!--<span class=\"fecha-creacion\">{{ (publication.created_at | date) | amLocale:'es' | amTimeAgo}}</span>-->\n                <div *ngIf=\"publication.user._id == identity._id\">\n\n                    <button type=\"button\" class=\"btn btn-danger pull-right\" (click)=\"setPublicationToDelete(publication._id)\" data-toggle=\"modal\" data-target=\"#deletePublicationModal\">\n                            <span class=\"glyphicon glyphicon-trash\"></span>\n                        </button>\n\n                    <!-- Modal -->\n                    <div id=\"deletePublicationModal\" class=\"modal fade\" role=\"dialog\">\n                        <div class=\"modal-dialog\">\n\n                            <!-- Modal content-->\n                            <div class=\"modal-content\">\n                                <div class=\"modal-header\">\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n                                    <h4 class=\"modal-title\">Eliminar publicación</h4>\n                                </div>\n                                <div class=\"modal-body\">\n                                    <p>¿Estás seguro que quieres eliminar la publicación?</p>\n                                </div>\n                                <div class=\"modal-footer\">\n                                    <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" (click)=\"borrarPublicacion(posicion)\">Borrar publicación</button>\n                                    <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Cancelar</button>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n                <p>{{publication.text}}</p>\n                <button *ngIf=\"publication.file && !publication.showPicture\" class=\"btn btn-default\" [ngClass]=\"{'btn-primary': publication.showPicture}\" (click)=\"publication.showPicture = !publication.showPicture\">\n                        <span class=\"glyphicon glyphicon-picture\"></span>\n                    </button>\n                <button *ngIf=\"publication.file && publication.showPicture\" style=\"float:left\" class=\"btn btn-basic\" (click)=\"publication.showPicture = !publication.showPicture\">\n                        <span class=\"glyphicon glyphicon-remove-circle\"></span>\n                    </button>\n                <div class=\"col-lg-6 col-sm-12 col-xs-12\" *ngIf=\"publication.file && publication.showPicture\">\n                    <img style=\"max-width:100%;\" class=\"publication-image\" src=\"{{publication.file}}\" />\n                </div>\n\n                <!--<img src=\"{{url + 'get-image-pub/9Ci1eZfIuym2h3W8B7QlVh-y.jpg'}}\" *ngIf=\"!publication.file\"/>-->\n\n            </div>\n\n        </li>\n    </ul>\n</div>\n<div class=\"col-lg-12 text-center\">\n    <p>\n        <button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"pages > page\">\n                <span>Ver más publicaciones</span>\n            </button>\n        <button class=\"btn btn-danger\" [disabled]=\"pages <= page\" *ngIf=\"pages <= page\">\n                <span>No hay más resultados</span>\n            </button>\n    </p>\n</div>\n"

/***/ }),

/***/ "./src/app/publications/publications.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicationsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PublicationsComponent = /** @class */ (function () {
    // @Input() user: string;
    function PublicationsComponent(_router, _route, _userService, _publicationService) {
        this._router = _router;
        this._route = _route;
        this._userService = _userService;
        this._publicationService = _publicationService;
        this.noMore = false;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.title = "Publicaciones";
        this.url = __WEBPACK_IMPORTED_MODULE_3__services_global__["a" /* GLOBAL */].url;
        this.page = 1;
    }
    PublicationsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var id = params['id'];
            _this.user = params['id'];
            _this.getPublicationsUser(_this.user, _this.page, false);
        });
    };
    PublicationsComponent.prototype.getPublicationsUser = function (user, page, adding) {
        var _this = this;
        this._publicationService.getPublicationsUser(user, this.token, page).subscribe(function (response) {
            _this.loadedData = true;
            _this.total = response.total_items;
            _this.pages = response.pages;
            _this.itemsPerPage = response.items_per_page;
            if (!adding) {
                _this.publications = response.publications;
            }
            else {
                var arrayA = _this.publications;
                var arrayB = response.publications;
                _this.publications = arrayA.concat(arrayB);
                $("html, body").animate({ scrollTop: $("html").prop("scrollHeight") }, 600);
            }
        }, function (error) {
            _this.loadedData = true;
            console.log(error);
        });
    };
    PublicationsComponent.prototype.viewMore = function () {
        this.page += 1;
        if (this.page == this.pages) {
            this.noMore = true;
        }
        this.getPublicationsUser(this.user, this.page, true);
    };
    PublicationsComponent.prototype.setPublicationToDelete = function (publicacion) {
        this.publicationToDelete = publicacion;
    };
    PublicationsComponent.prototype.borrarPublicacion = function (publication_id) {
        var _this = this;
        console.log("el id de la publicacion a bores ---> " + this.publicationToDelete);
        this._publicationService.deletePublication(this.token, this.publicationToDelete).subscribe(function (response) {
            _this.getPublicationsUser(_this.user, 1, false);
            _this.noMore = false;
        }, function (error) {
            console.log(error);
        });
    };
    PublicationsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'publications',
            template: __webpack_require__("./src/app/publications/publications.component.html"),
            styles: [__webpack_require__("./src/app/publications/publications.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_2__services_publication_service__["a" /* PublicationService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__services_publication_service__["a" /* PublicationService */]])
    ], PublicationsComponent);
    return PublicationsComponent;
}());



/***/ }),

/***/ "./src/app/register/register.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/register/register.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-4 col-lg-offset-4 col-sm-12 col-xs-12\">\n    <h1 class=\"h1-strong text-center\">{{title}}</h1>\n    <div class=\"alert alert-success\" *ngIf=\"status=='success'\">\n        Registro completado correctamente. Bienvenido!\n        <a [routerLink]=\"['/login']\">Identifícate!</a>\n            \n    </div>\n     <div class=\"alert alert-danger\" *ngIf=\"status=='error'\">\n        El registro no ha podido completarse, quizás existe ya otro usuario con ese Nick o Email. inténtalo de nuevo con otros datos.\n    </div>\n    <form #registerForm=\"ngForm\" (ngSubmit)=\"sendForm(registerForm)\" class=\"center-block\" >\n        <p>\n            <label for=\"\">Nombre</label>\n            <input class=\"form-control\" required type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" required/>\n            <span *ngIf=\"!name.valid && name.touched\">\n                El nombre es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Apellidos</label>\n            <input class=\"form-control\" required type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" required/>\n            <span *ngIf=\"!surname.valid && surname.touched\">\n                El campo apellidos es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Nick/Apodo</label>\n            <input class=\"form-control\" required type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" required/>\n            <span *ngIf=\"!nick.valid && nick.touched\">\n                El campo Nick es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Correo electrónico</label>\n            <input class=\"form-control\" required type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\" required/>\n            <span *ngIf=\"!email.valid && email.touched\">\n                El Email es obligatorio\n            </span>\n        </p>  \n        <p>\n            <label for=\"\">Contraseña</label>\n            <input class=\"form-control\" required type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" required/>\n            <span *ngIf=\"!password.valid && password.touched\">\n                La Contraseña es obligatorio\n            </span>\n        </p>          \n        <input type=\"submit\" value=\"{{title}}\" class=\"btn btn-success\" [disabled]=\"!registerForm.form.valid\"/>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/register/register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_user__ = __webpack_require__("./src/app/models/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RegisterComponent = /** @class */ (function () {
    function RegisterComponent(_route, _router, _userService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this.title = "Regístrate!";
        this.user = new __WEBPACK_IMPORTED_MODULE_2__models_user__["a" /* User */]("", "", "", "", "", "", "ROLE_USER", "", false);
    }
    RegisterComponent.prototype.ngOnInit = function () {
    };
    RegisterComponent.prototype.sendForm = function (form) {
        var _this = this;
        this._userService.register(this.user).subscribe(function (response) {
            if (response.user) {
                _this.status = 'success';
                form.reset();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            _this.status = 'error';
        });
    };
    RegisterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'register',
            template: __webpack_require__("./src/app/register/register.component.html"),
            styles: [__webpack_require__("./src/app/register/register.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]])
    ], RegisterComponent);
    return RegisterComponent;
}());



/***/ }),

/***/ "./src/app/services/follow.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FollowService = /** @class */ (function () {
    function FollowService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    FollowService.prototype.addFollow = function (token, follow) {
        var params = JSON.stringify(follow);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'follow', params, { headers: headers });
    };
    FollowService.prototype.deleteFollow = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.delete(this.url + 'follow/' + id, { headers: headers });
    };
    FollowService.prototype.getFollowing = function (token, user_id, page) {
        if (user_id === void 0) { user_id = null; }
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var url = this.url + 'following/';
        if (user_id != null) {
            url = this.url + 'following/' + user_id + '/' + page;
        }
        return this._http.get(url, { headers: headers });
    };
    FollowService.prototype.getFollowed = function (token, user_id, page) {
        if (user_id === void 0) { user_id = null; }
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var url = this.url + 'followed/';
        if (user_id != null) {
            url = this.url + 'followed/' + user_id + '/' + page;
        }
        return this._http.get(url, { headers: headers });
    };
    FollowService.prototype.getMyFollows = function (token) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var url = this.url + 'get-my-follows/true';
        return this._http.get(url, { headers: headers });
    };
    FollowService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], FollowService);
    return FollowService;
}());



/***/ }),

/***/ "./src/app/services/global.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GLOBAL; });
var GLOBAL = {
    url: 'https://troyackson.herokuapp.com/api/'
};


/***/ }),

/***/ "./src/app/services/message.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MessageService = /** @class */ (function () {
    function MessageService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    MessageService.prototype.addMessage = function (token, message) {
        var params = JSON.stringify(message);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'message', params, { headers: headers });
    };
    MessageService.prototype.getMessages = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'messages/' + page, { headers: headers });
    };
    MessageService.prototype.getSentMessages = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'sent-messages/' + page, { headers: headers });
    };
    MessageService.prototype.getConversation = function (token, user_id, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'getConversation/' + user_id + '/' + page, { headers: headers });
    };
    MessageService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], MessageService);
    return MessageService;
}());



/***/ }),

/***/ "./src/app/services/publication.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PublicationService = /** @class */ (function () {
    function PublicationService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    PublicationService.prototype.addPublication = function (token, publication) {
        var params = JSON.stringify(publication);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'publication', params, { headers: headers });
    };
    PublicationService.prototype.deletePublication = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.delete(this.url + 'publication/' + id, { headers: headers });
    };
    PublicationService.prototype.getPublications = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'publications/' + page, { headers: headers });
    };
    PublicationService.prototype.getPublicationsUser = function (user_id, token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'publications-user/' + user_id + '/' + page, { headers: headers });
    };
    PublicationService.prototype.addComment = function (token, comment) {
        var params = JSON.stringify(comment);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'comment', params, { headers: headers });
    };
    PublicationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], PublicationService);
    return PublicationService;
}());



/***/ }),

/***/ "./src/app/services/upload.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UploadService = /** @class */ (function () {
    function UploadService() {
        this.url = __WEBPACK_IMPORTED_MODULE_1__global__["a" /* GLOBAL */].url;
    }
    UploadService.prototype.makeFileRequest = function (url, params, files, token, name) {
        return new Promise(function (resolve, reject) {
            var formData = new FormData();
            var xhr = new XMLHttpRequest();
            for (var i = 0; i < files.length; i++) {
                formData.append(name, files[i], files[i].name);
            }
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status == 200) {
                        resolve(JSON.parse(xhr.response));
                    }
                    else {
                        reject(xhr.response);
                    }
                }
            };
            xhr.open('POST', url, true);
            xhr.setRequestHeader('Authorization', token);
            xhr.send(formData);
        });
    };
    UploadService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], UploadService);
    return UploadService;
}());



/***/ }),

/***/ "./src/app/services/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserService = /** @class */ (function () {
    function UserService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    /*Método para hacer un nuevo registro de un usuario*/
    UserService.prototype.register = function (user) {
        var params = JSON.stringify(user);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json');
        return this._http.post(this.url + 'register', params, { headers: headers });
    };
    /*Método para hacer el login de un usuario a la aplicación*/
    UserService.prototype.login = function (user, getToken) {
        if (getToken === void 0) { getToken = null; }
        if (getToken != null) {
            user.getToken = getToken;
        }
        var params = JSON.stringify(user);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json');
        return this._http.post(this.url + 'login', params, { headers: headers });
    };
    /*Método que devuelve el objeto identity con el usuario loggeado*/
    UserService.prototype.getIdentity = function () {
        var identity = JSON.parse(localStorage.getItem('identity'));
        if (identity != "undefined") {
            this.identity = identity;
        }
        else {
            this.identity = null;
        }
        return this.identity;
    };
    /*métdo que devuelve el token del usuario loggeado*/
    UserService.prototype.getToken = function () {
        var token = localStorage.getItem('token');
        if (token != "undefined") {
            this.token = token;
        }
        else {
            this.token = null;
        }
        return this.token;
    };
    /*Metodo que devulve las estadísticas de este usuario*/
    UserService.prototype.getCounters = function (userId) {
        if (userId === void 0) { userId = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Authorization', this.getToken());
        if (userId != null) {
            return this._http.get(this.url + 'counters/' + userId, { headers: headers });
        }
        else {
            return this._http.get(this.url + 'counters/', { headers: headers });
        }
    };
    UserService.prototype.getStats = function () {
        var stats = JSON.parse(localStorage.getItem('stats'));
        if (stats != "undefined") {
            this.stats = stats;
        }
        else {
            this.stats = null;
        }
        return this.stats;
    };
    UserService.prototype.updateUser = function (user) {
        var params = JSON.stringify(user);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json')
            .set('Authorization', this.getToken());
        return this._http.put(this.url + 'update-user/' + user._id, params, { headers: headers });
    };
    UserService.prototype.getUsers = function (page) {
        if (page === void 0) { page = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.get(this.url + 'users/' + page, { headers: headers });
    };
    UserService.prototype.getUser = function (id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.get(this.url + 'user/' + id, { headers: headers });
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/sidebar/sidebar.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/sidebar/sidebar.component.html":
/***/ (function(module, exports) {

module.exports = "\n<script type=\"text/javascript\">\n</script>\n\n<!--<button type=\"button\" class=\"btn btn-info btn-lg\" data-toggle=\"modal\" data-target=\"#myModal\">Ver ficha/Publica</button>-->\n<button type=\"submit\" class=\"btn btn-info\" data-toggle=\"modal\" data-target=\"#newPublicationModal\" style=\"position: fixed;\n    top: 58px;\n    right: 50px;\">\n    <span class=\"glyphicon glyphicon-plus\"></span>\n</button>\n\n<!-- Modal -->\n<div id=\"newPublicationModal\" class=\"modal fade\" role=\"dialog\">\n    <div class=\"modal-dialog\">\n        <!-- Modal content-->\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n                <h4 class=\"modal-title\">Hola!, {{identity.name}}</h4>\n            </div>\n            <div class=\"modal-body\">\n                <div id=\"user-card\" class=\"padding0\">\n                    <div class=\"avatar pull-left\">\n                        <img class=\"img img-circle\" src=\"{{identity.image}}\" *ngIf=\"identity.image\" />\n                        <img class=\"img img-circle\" src=\"assets/user.jpg\" *ngIf=\"!identity.image\" />\n                    </div>\n                    <div class=\"name-surname pull-left\">\n                        <a [routerLink]=\"['/perfil', this.identity._id]\" class=\"username\">\n                            {{identity.name + ' ' + identity.surname}} \n                        </a>\n                        <p class=\"nickname\">\n                            {{identity.nick}}\n                        </p>\n                        <div class=\"clearfix\"></div>\n                    </div>\n                    <div class=\"clearfix\"></div>\n                    <!--        <div class=\"stats\" *ngIf=\"stats\">-->\n                    <!--            <div class=\"following-data\">-->\n                    <!--                <a [routerLink]=\"['/siguiendo', identity._id, 1]\">-->\n                    <!--    <span class=\"label-stats\">-->\n                    <!--        Siguiendo-->\n                    <!--    </span>-->\n                    <!--    <span class=\"number-stats\">-->\n                    <!--        {{stats.following}}-->\n                    <!--    </span>-->\n                    <!--</a>-->\n                    <!--            </div>-->\n                    <!--            <div class=\"following-data\">-->\n                    <!--                <a [routerLink]=\"['/seguidores', identity._id, 1]\">-->\n                    <!--    <span class=\"label-stats\">-->\n                    <!--        Seguidores-->\n                    <!--    </span>-->\n                    <!--    <span class=\"number-stats\">-->\n                    <!--        {{stats.followed}}-->\n                    <!--    </span>-->\n                    <!--</a>-->\n                    <!--            </div>-->\n                    <!--            <div class=\"following-data\">-->\n                    <!--                <a href=\"#\">-->\n                    <!--    <span class=\"label-stats\">-->\n                    <!--        Publicaciones-->\n                    <!--    </span>-->\n                    <!--    <span class=\"number-stats\">-->\n                    <!--        {{stats.publications}}-->\n                    <!--    </span>-->\n                    <!--</a>-->\n                    <!--            </div>-->\n                    <!--        </div>-->\n                </div>\n\n                <div id=\"new-publication\" class=\"\">\n                    <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\n                        Publicación guardada correctamente\n                    </div>\n                    <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\n                        No se ha guardado la publicación\n                    </div>\n                    <form #newPubForm=\"ngForm\" (ngSubmit)=\"sendForm(newPubForm, $event);\" class=\"col-lg-12 padding0 font-dancing\">\n                        <p>\n                            <label>¿Que estás pensando hoy?</label>\n                            <textarea rows=\"4\" name=\"text\" #text=\"ngModel\" [(ngModel)]=\"publication.text\" class=\"form-control\" required></textarea>\n                            <span *ngIf=\"!text.valid && text.touched\">\n                                El texto es obligatorio\n                            </span>\n                        </p>\n\n                        <!--<p>-->\n                        <!--    <label>Sube tu foto</label>-->\n                        <!--    <input type=\"file\" placeholder=\"Subir imagen\" (change)=\"fileChangeEvent($event)\" style=\"max-width:100%\" />-->\n                        <!--</p>-->\n                        <input id=\"imageFile\" name=\"imageFile\" (change)=\"fileChangeEvent($event)\" type=\"file\" class=\"imageFile\" accept=\"image/*\" />\n                        <!--<input type=\"button\" value=\"Resize Image\" (click)=\"ResizeImage()\" />-->\n                        <br/>\n                        <img src=\"\" id=\"preview\">\n                        <img src=\"\" id=\"output\">\n                        <input type=\"submit\" class=\"_top20\" value=\"Publicar\" class=\"btn btn-success\" [disabled]=\"!newPubForm.form.valid\" />\n                    </form>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n"

/***/ }),

/***/ "./src/app/sidebar/sidebar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SidebarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_publication__ = __webpack_require__("./src/app/models/publication.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_upload_service__ = __webpack_require__("./src/app/services/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SidebarComponent = /** @class */ (function () {
    function SidebarComponent(_userService, _publicationService, _route, _router, _uploadService) {
        this._userService = _userService;
        this._publicationService = _publicationService;
        this._route = _route;
        this._router = _router;
        this._uploadService = _uploadService;
        // public canvas: <HTMLCanvasElement>;
        /*Output*/
        this.sent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.stats = this._userService.getStats();
        this.url = __WEBPACK_IMPORTED_MODULE_6__services_global__["a" /* GLOBAL */].url;
        this.publication = new __WEBPACK_IMPORTED_MODULE_2__models_publication__["a" /* Publication */]('', '', '', '', this.identity._id);
    }
    SidebarComponent.prototype.ngOnInit = function () {
    };
    SidebarComponent.prototype.sendForm = function (form, event) {
        var _this = this;
        this._publicationService.addPublication(this.token, this.publication).subscribe(function (response) {
            if (response.publicacionGuardada) {
                _this.publication = response.publicacionGuardada;
                if (_this.filesToUpload) {
                    // this.ResizeImage();
                    var arrayAux = [];
                    // this.filesToUpload[0] = document.getElementById("output");
                    _this._uploadService.makeFileRequest(_this.url + 'upload-image-pub/' + response.publicacionGuardada._id, [], _this.filesToUpload, _this.token, 'image')
                        .then(function (result) {
                        //this.publication.file = result.image;
                        console.log(result);
                        _this.status = "success";
                        setTimeout(function () { return _this.status = false; }, 2250);
                        form.reset();
                        _this._router.navigate(['/timeline']);
                        $('#newPublicationModal').modal('hide');
                        _this.sent.emit({ sent: true });
                    });
                }
                else {
                    _this.status = "success";
                    setTimeout(function () { return _this.status = false; }, 2250);
                    form.reset();
                    _this._router.navigate(['/timeline']);
                    $('#newPublicationModal').modal('hide');
                    _this.sent.emit({ sent: true });
                }
            }
            else {
                _this.status = "error";
                setTimeout(function () { return _this.status = false; }, 2250);
            }
        }, function (error) {
            _this.status = "error";
            setTimeout(function () { return _this.status = false; }, 2250);
            console.log(error);
        });
    };
    SidebarComponent.prototype.fileChangeEvent = function (fileInput) {
        this.filesToUpload = fileInput.target.files;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], SidebarComponent.prototype, "sent", void 0);
    SidebarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'sidebar',
            template: __webpack_require__("./src/app/sidebar/sidebar.component.html"),
            styles: [__webpack_require__("./src/app/sidebar/sidebar.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */], __WEBPACK_IMPORTED_MODULE_5__services_upload_service__["a" /* UploadService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__services_upload_service__["a" /* UploadService */]])
    ], SidebarComponent);
    return SidebarComponent;
}());



/***/ }),

/***/ "./src/app/timeline/timeline.component.css":
/***/ (function(module, exports) {

module.exports = "\n.comments{\n    padding-top:15px;\n}\n.comments .comment-img{\n    width: 42px;\n}\n.comments .card{\n    margin-top:20px;\n    border: 1px solid #cef1ff;\n    padding: 20px;\n    border-radius: 7px;\n}\nhr{\n    margin-top: 0;\n    margin-bottom:10px;\n    border-color:#dbeaf1;\n}"

/***/ }),

/***/ "./src/app/timeline/timeline.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8 col-lg-offset-2\">\n    <h1 class=\"h1-strong\">\n        {{title}}\n    </h1>\n\n    <div class=\"people\">\n        <div *ngFor=\"let publication of publications; let posicion = index\" class=\"item-user\">\n            <div class=\"panel panel-default\">\n                <div class=\"panel-body\">\n                    <div class=\"image_user pull-left\" [routerLink]=\"['/perfil', publication.user._id]\">\n                        <a>\n                            <img src=\"{{publication.user.image}}\" *ngIf=\"publication.user.image\"/>    \n                            <img src=\"assets/user.jpg\" *ngIf=\"!publication.user.image\" class=\"user-default\"/>    \n                        </a>\n                    </div>\n                    <span class=\"fecha-creacion pull-right _top10\">{{publication.created_at | date: \"dd/MM/yy - HH:mm\"}}</span>\n                    <div class=\"user_name\">\n                        <p class=\"name-surname\" [routerLink]=\"['/perfil', publication.user._id]\">\n                            <a>\n                            {{publication.user.name + ' ' + publication.user.surname}}\n                            </a>\n                        </p>\n                        <p class=\"nickname\">{{publication.user.nick}}</p>\n                        <p class=\"pull-left _top10 col-sm-12 col-xs-12 publication-text\">{{publication.text}}</p>\n                    </div>\n                    <div *ngIf=\"publication.user._id == identity._id\">\n\n                        <button type=\"button\" class=\"btn btn-danger pull-right font-dancing\" (click)=\"setPublicationToDelete(publication._id)\" data-toggle=\"modal\" data-target=\"#deletePublicationModal\">\n                            Eliminar\n                            <span class=\"glyphicon glyphicon-trash\"></span>\n                        </button>\n\n                        <!-- Modal -->\n                        <div id=\"deletePublicationModal\" class=\"modal fade\" role=\"dialog\">\n                            <div class=\"modal-dialog\">\n\n                                <!-- Modal content-->\n                                <div class=\"modal-content\">\n                                    <div class=\"modal-header\">\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n                                        <h4 class=\"modal-title\">Eliminar publicación</h4>\n                                    </div>\n                                    <div class=\"modal-body\">\n                                        <p>¿Estás seguro que quieres eliminar la publicación?</p>\n                                    </div>\n                                    <div class=\"modal-footer\">\n                                        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" (click)=\"borrarPublicacion(posicion)\">Borrar publicación</button>\n                                        <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Cancelar</button>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-lg-12 col-sm-12 col-xs-12\" *ngIf=\"publication.file\">\n                            <img style=\"max-width:100%;\" class=\"publication-image center-block\" src=\"{{publication.file}}\" />\n                        </div>\n                    </div>\n                    \n                    <!--Comentarios-->\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"comments\" *ngIf=\"publication.comments\">\n                                <div class=\"card\" *ngFor=\"let comment of publication.comments\">\n                                    <div class=\"card-header\">\n                                        <img src=\"assets/user.jpg\" class=\"comment-img img-circle\">\n                                        <p>\n                                            <span>{{comment.user.name}}</span>\n                                            <span style=\"float:right\">10-05-2018</span>\n                                        </p>\n                                    </div> \n                                    <hr> \n                                    <div class=\"card-body\">\n                                        <p class=\"card-text font-caveat\">{{comment.text}}</p>\n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <form #commentForm=\"ngForm\" (ngSubmit)=\"sendComment(commentForm, publication._id)\" class=\"center-block\">\n                                <p>\n                                    <label for=\"\">Comentar</label>\n                                    <textarea class=\"form-control\" name=\"text\" #text=\"ngModel\" [(ngModel)]=\"comment.text\" required>\n                                    </textarea>\n                                </p>\n                                <input type=\"submit\" value=\"Comentar\" class=\"btn btn-primary\" [disabled]=\"!commentForm.form.valid\" />\n                            </form>\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n        </div>\n\n        <div *ngIf=\"!publications || publications.length == 0\" class=\"alert alert-success\">\n            <span>No hay publicaciones, para seguir gente y ver sus publicaciones.. </span>\n            <a [routerLink]=\"['/gente', 1]\">Haz click Aquí!</a>\n        </div>\n    </div>\n    <div class=\"col-lg-12 text-center\">\n        <p>\n            <button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"!noMore && publications\">\n                <span>Ver más publicaciones</span>\n            </button>\n            <button class=\"btn btn-danger\" [disabled]=\"pages <= page\" *ngIf=\"noMore && publications\">\n                <span>No hay más resultados</span>\n            </button>\n        </p>\n    </div>\n\n</div>\n\n<sidebar (sent)=\"refresh($event)\"></sidebar>\n\n<div class=\"clearfix\"></div>\n"

/***/ }),

/***/ "./src/app/timeline/timeline.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimelineComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_comment__ = __webpack_require__("./src/app/models/comment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TimelineComponent = /** @class */ (function () {
    function TimelineComponent(_router, _route, _userService, _publicationService) {
        this._router = _router;
        this._route = _route;
        this._userService = _userService;
        this._publicationService = _publicationService;
        this.noMore = false;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.title = "Publicaciones";
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
        this.page = 1;
        this.comment = new __WEBPACK_IMPORTED_MODULE_1__models_comment__["a" /* Comment */]("", "", "", "", "");
    }
    TimelineComponent.prototype.ngOnInit = function () {
        this.getPublications(this.page, false);
    };
    /*Recupera las publicaciones*/
    TimelineComponent.prototype.getPublications = function (page, adding) {
        var _this = this;
        this._publicationService.getPublications(this.token, page).subscribe(function (response) {
            console.log(response);
            _this.total = response.total_items;
            _this.pages = response.pages;
            _this.itemsPerPage = response.items_per_page;
            if (!adding) {
                _this.publications = response.publications;
            }
            else {
                var arrayA = _this.publications;
                var arrayB = response.publications;
                _this.publications = arrayA.concat(arrayB);
                $("html, body").animate({ scrollTop: $("body").prop("scrollHeight") }, 600);
            }
        }, function (error) {
            console.log(error);
        });
    };
    TimelineComponent.prototype.viewMore = function () {
        if (this.publications.length == this.total) {
            this.noMore = true;
            $("html, body").animate({ scrollTop: $("body").prop("scrollHeight") }, 600);
        }
        else {
            this.page += 1;
            this.getPublications(this.page, true);
        }
    };
    TimelineComponent.prototype.refresh = function (event) {
        this.getPublications(1, false);
        this.noMore = false;
    };
    TimelineComponent.prototype.setPublicationToDelete = function (publicacion) {
        this.publicationToDelete = publicacion;
    };
    TimelineComponent.prototype.borrarPublicacion = function (publication_id) {
        var _this = this;
        this._publicationService.deletePublication(this.token, this.publicationToDelete).subscribe(function (response) {
            _this.getPublications(1, false);
            _this.noMore = false;
        }, function (error) {
            console.log(error);
        });
    };
    TimelineComponent.prototype.sendComment = function (form, publicationId) {
        var _this = this;
        this.comment.user = this.identity._id;
        this.comment.publication = publicationId;
        this._publicationService.addComment(this.token, this.comment).subscribe(function (response) {
            if (response.publication) {
                _this.comment = new __WEBPACK_IMPORTED_MODULE_1__models_comment__["a" /* Comment */]("", "", "", "", "");
                _this.getPublications(_this.page, false);
            }
        }, function (error) {
            console.log(error);
        });
    };
    TimelineComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-timeline',
            template: __webpack_require__("./src/app/timeline/timeline.component.html"),
            styles: [__webpack_require__("./src/app/timeline/timeline.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_3__services_publication_service__["a" /* PublicationService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__services_publication_service__["a" /* PublicationService */]])
    ], TimelineComponent);
    return TimelineComponent;
}());



/***/ }),

/***/ "./src/app/user-edit/user-edit.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/user-edit/user-edit.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-5\">\n    <h1 class=\"h1-strong\">{{title}}</h1>\n    <div class=\"alert alert-success\" *ngIf=\"status =='successs'\">\n        Se han actualizado tus datos correctamente!\n    </div>\n    <div class=\"alert alert-danger\" *ngIf=\"status =='error'\">\n        Tus datos no han podido actualizarse, inténtalo de nuevo más tarde.\n    </div>\n    <form class=\"col-lg-12\" #userEditForm=\"ngForm\" (ngSubmit)=\"sendForm()\">\n        <p>\n            <label for=\"\">Nombre*</label>\n            <input class=\"form-control\" type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" required/>\n            <span *ngIf=\"!name.valid && name.touched\">\n                El nombre es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Apellidos*</label>\n            <input class=\"form-control\" type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" required/>\n            <span *ngIf=\"!surname.valid && surname.touched\">\n                El campo apellidos es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Nick/Apodo*</label>\n            <input class=\"form-control\" type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" required/>\n            <span *ngIf=\"!nick.valid && nick.touched\">\n                El campo Nick es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Correo electrónico*</label>\n            <input class=\"form-control\" type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\" required/>\n            <span *ngIf=\"!email.valid && email.touched\">\n                El Email es obligatorio\n            </span>\n        </p>\n        <p>\n            <label for=\"\">Contraseña*</label>\n            <input class=\"form-control\" type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" required/>\n            <span *ngIf=\"!password.valid && password.touched\">\n                La Contraseña es obligatorio\n            </span>\n        </p>\n        <div *ngIf=\"user.image\">\n            <img width=\"120\" src=\"{{url + 'get-image-user/' + user.image}}\"/>\n        </div>\n        <p>\n            <label for=\"\">Subir imagen de perfil</label>\n            <input class=\"form-control\" type=\"file\" (change)=\"fileChangeEvent($event)\"/>\n        </p>\n        <input type=\"submit\" value=\"{{title}}\" class=\"btn btn-warning\" [disabled]=\"!userEditForm.form.valid\" />\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/user-edit/user-edit.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserEditComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_upload_service__ = __webpack_require__("./src/app/services/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UserEditComponent = /** @class */ (function () {
    function UserEditComponent(_route, router, _userService, _uploadService) {
        this._route = _route;
        this.router = router;
        this._userService = _userService;
        this._uploadService = _uploadService;
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
        this.title = "Actualizar mis datos";
        this.user = this._userService.getIdentity();
        this.identity = this.user;
        this.token = this._userService.getToken();
    }
    UserEditComponent.prototype.ngOnInit = function () {
        console.log('Componente Editar mis datos cargado');
        console.log(this.user);
    };
    UserEditComponent.prototype.sendForm = function () {
        var _this = this;
        this._userService.updateUser(this.user).subscribe(function (response) {
            console.log(response);
            if (!response.user) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                localStorage.setItem('identity', JSON.stringify(_this.user));
                _this.identity = _this.user;
                /*Subida imagen de usuario*/
                _this._uploadService.makeFileRequest(_this.url + 'upload-image-user/' + _this.user._id, [], _this.filesToUpload, _this.token, 'image').then(function (result) {
                    console.log(result);
                    _this.user.image = result.user.image;
                    localStorage.setItem('identity', JSON.stringify(_this.user));
                });
            }
        }, function (error) {
            console.log(error);
        });
    };
    UserEditComponent.prototype.fileChangeEvent = function (fileInput) {
        this.filesToUpload = fileInput.target.files;
        console.log(this.filesToUpload);
    };
    UserEditComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-user-edit',
            template: __webpack_require__("./src/app/user-edit/user-edit.component.html"),
            styles: [__webpack_require__("./src/app/user-edit/user-edit.component.css")],
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_3__services_upload_service__["a" /* UploadService */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__services_upload_service__["a" /* UploadService */]])
    ], UserEditComponent);
    return UserEditComponent;
}());



/***/ }),

/***/ "./src/app/users/users.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/users/users.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8 col-lg-offset-2\">\n    <h1 class=\"h1-strong\">\n        {{title}}\n    </h1>\n    \n    <!--Lista de usuarios paginada-->\n    <div class=\"people\">\n        <div *ngFor=\"let user of users\" class=\"item-user\">\n            <div class=\"panel panel-default\">\n                <div class=\"panel-body\">\n                    <div class=\"image_user pull-left\" [routerLink]=\"['/perfil', user._id]\">\n                        <a>\n                            <img src=\"{{user.image}}\" *ngIf=\"user.image\"/>    \n                            <img src=\"assets/user.jpg\" *ngIf=\"!user.image\" class=\"user-default\"/>    \n                        </a>\n\n                    </div>\n                    <div class=\"user_name pull-left\" [routerLink]=\"['/perfil', user._id]\">\n                        <p class=\"name-surname\">\n                            <a>\n                            {{user.name + ' ' + user.surname}}\n                            </a>\n                        </p>\n                        <p class=\"nickname\">{{user.nick}}</p>\n                    </div>\n\n                    <div class=\"pull-right\" *ngIf=\"user._id != identity._id\">\n                        <button class=\"btn btn-success font-dancing\" *ngIf=\"follows.indexOf(user._id) < 0\" (click)=\"followUser(user._id)\">\n                            <span class=\"glyphicon glyphicon-plus-sign\"></span>\n                            Seguir\n                        </button>\n                        <button class=\"btn btn-primary font-dancing\" *ngIf=\"follows.indexOf(user._id) >= 0\" (mouseenter)=\"mouseEnter(user._id)\" (mouseleave)=\"mouseLeave(user._id)\" [class.btn-danger]=\"user._id == followUserOver\" (click)=\"unfollowUser(user._id)\">\n                            <div>\n                                <span class=\"glyphicon glyphicon-ok-sign\"></span>\n                                Dejar de seguir\n                            </div>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ul class=\"pagination pull-right\">\n            <li *ngIf=\"page > 1\">\n                <a class=\"font-dancing\" [routerLink]=\"['/gente', prevPage]\"><span class=\"glyphicon glyphicon-chevron-left\"></span></a>\n            </li>\n            <li *ngIf=\"pages != page\">\n                <a class=\"font-dancing\" [routerLink]=\"['/gente', page+1]\"><span class=\"glyphicon glyphicon-chevron-right\"></span></a>\n            </li>\n        </ul>\n    </div>\n</div>\n<sidebar></sidebar>\n<div class=\"clearfix\"></div>\n"

/***/ }),

/***/ "./src/app/users/users.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// import { UploadService } from '../services/upload.service';

var UsersComponent = /** @class */ (function () {
    function UsersComponent(_userService, _route, _router, _followService) {
        this._userService = _userService;
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this.title = "Gente";
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    UsersComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    UsersComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var page = +params['page'];
            _this.page = page;
            if (!page) {
                page = 1;
                _this.page = 1;
            }
            else {
                _this.nextPage = page + 1;
                _this.prevPage = page - 1;
                if (_this.prevPage <= 0) {
                    _this.prevPage = 1;
                }
            }
            _this.getUsers(page);
        });
    };
    UsersComponent.prototype.getUsers = function (page) {
        var _this = this;
        this._userService.getUsers(page).subscribe(function (response) {
            if (!response.usuariosEncontrados) {
                _this.status = 'error';
            }
            else {
                _this.users = response.usuariosEncontrados;
                _this.total = response.total;
                _this.pages = response.pages;
                _this.follows = response.follows;
                if (page > _this.page) {
                    _this._router.navigate(['/gente', 1]);
                }
            }
        }, function (error) {
            console.log(error);
            _this.status = 'error';
        });
    };
    UsersComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    UsersComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    UsersComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follows) {
                _this.status = "error";
            }
            else {
                _this.status = "success";
                _this.follows.push(followed);
            }
        }, function (error) {
            console.log(error);
        });
    };
    UsersComponent.prototype.unfollowUser = function (followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, followed).subscribe(function (response) {
            var search = _this.follows.indexOf(followed);
            if (search != -1) {
                _this.follows.splice(search, 1);
            }
        }, function (error) {
            console.log(error);
        });
    };
    UsersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'users',
            template: __webpack_require__("./src/app/users/users.component.html"),
            styles: [__webpack_require__("./src/app/users/users.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], UsersComponent);
    return UsersComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map